<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Network meta analysis of target-comparator-outcomes in OHDSI network studies • NetworkMetaAnalysis</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Network meta analysis of target-comparator-outcomes in OHDSI network studies">
<meta property="og:description" content="A package for using a collection of target-comparator-outcome estimates from OHDSI network 
 	studies to estimate relative effectiveness between all target-comparator pairs, even in the absence 
 	of head-to-head comparison.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">NetworkMetaAnalysis</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div id="networkmetaanalysis" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#networkmetaanalysis" class="anchor"></a>NetworkMetaAnalysis</h1></div>
<!-- badges: start -->

<p>A package for using a collection of target-comparator-outcome estimates from OHDSI network studies to estimate relative effectiveness between all target-comparator pairs, even in the absence of head-to-head comparison.</p>
<div id="features" class="section level2">
<h2 class="hasAnchor">
<a href="#features" class="anchor"></a>Features</h2>
<ul>
<li>Simple interface for network meta-analyses crafted for OHDSI network studies</li>
<li>Interactive Shiny app for simple exploration of results and model diagnostics</li>
<li>Supports parallel processing</li>
<li>Bayesian parameter estimation: allows for generating and comparing derived quantities from posterior samples</li>
<li>Supports checking network consistency with node-splitting analysis (compare overall network estimates with direct and indirect estimates)</li>
</ul>
</div>
<div id="screenshots" class="section level2">
<h2 class="hasAnchor">
<a href="#screenshots" class="anchor"></a>Screenshots</h2>
<div id="pair-wise-hrs" class="section level4">
<h4 class="hasAnchor">
<a href="#pair-wise-hrs" class="anchor"></a>Pair-wise HRs</h4>
<p>Example of heatmap with hazard ratios (HRs) between all six exposures in a demo analysis, with SUCRA values in the diagonal. HRs &gt; 1 favour exposures on the horizontal axis, HRs &lt; 1 those on the vertical axis. SUCRA stands for surface under the cumulative ranking and is the probability that the exposure is most effective.</p>
<p><img src="extras/heatmapPairwiseEstimates.png"></p>
</div>
<div id="interactive-app" class="section level4">
<h4 class="hasAnchor">
<a href="#interactive-app" class="anchor"></a>Interactive app</h4>
<p>The Shiny app has a classic dashboard-like structure with a menu on the left and large main panel showing appropriate content, here the graph of the six included studies. Node sizes represent the average incident of the outcome of interest in that cohort, line thickness the number of studies with direct comparisons of the two exposures connected by the lines. This graph plot is the result of <code><a href="reference/plotNetwork.html">plotNetwork()</a></code>.</p>
<p><img src="extras/screenshotShinyApp.png"></p>
</div>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<p>Install the package directly from GitHub using <code>devtools</code> (if you don’t have, just install that first):</p>
<div class="sourceCode"><pre class="r"><span class="co"># install.packages("devtools")</span>
<span class="kw pkg">devtools</span><span class="kw ns">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span>(<span class="st">"OHDSI/NetworkMetaAnalysis"</span>)</pre></div>
</div>
<div id="example" class="section level2">
<h2 class="hasAnchor">
<a href="#example" class="anchor"></a>Example</h2>
<p>A fully-fledged network meta-analysis can be run with a few lines of code. Here, we use pseudo-settings for a local PosgreSQL database with a sample of the LEGEND study in a dedicated schema.</p>
<div class="sourceCode"><pre class="r"><span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">NetworkMetaAnalysis</span>)
<span class="fu"><a href="https://rdrr.io/r/base/library.html">library</a></span>(<span class="no">DatabaseConnector</span>)

<span class="no">cd</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/DatabaseConnector/man/createConnectionDetails.html">createConnectionDetails</a></span>(<span class="kw">dbms</span> <span class="kw">=</span> <span class="st">"postgresql"</span>, <span class="kw">user</span> <span class="kw">=</span> <span class="st">"user"</span>, <span class="kw">password</span> <span class="kw">=</span> <span class="st">"password"</span>,
                              <span class="kw">connectionString</span> <span class="kw">=</span> <span class="st">"jdbc:postgresql://localhost:1234/db_name"</span>)
<span class="no">conn</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/DatabaseConnector/man/connect.html">connect</a></span>(<span class="no">cd</span>)

<span class="no">legendSample</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/fetchTcoEstimates.html">fetchTcoEstimates</a></span>(<span class="no">conn</span>, <span class="kw">resultsCdm</span> <span class="kw">=</span> <span class="st">"legend_nma"</span>, <span class="kw">resultsTable</span> <span class="kw">=</span> <span class="st">"legend_sample"</span>)

<span class="no">results</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/runAnalyses.html">runAnalyses</a></span>(<span class="no">legendSample</span>, <span class="kw">nCores</span> <span class="kw">=</span> <span class="fl">4</span>) <span class="co"># uses foreach to run in parallel if nCores &gt; 1</span>

<span class="fu"><a href="reference/launchShinyApp.html">launchShinyApp</a></span>(<span class="no">results</span>)</pre></div>
<div id="saving-and-loading-results" class="section level4">
<h4 class="hasAnchor">
<a href="#saving-and-loading-results" class="anchor"></a>Saving and loading results</h4>
<p>Fitting several network meta-analysis can be quite time-consuming, so once done the user would likely save the results. The results are essentially a list with a specific structure, so the user can save to a file with R’s built-in <code>saveRDS</code> function, but NetworkMetaAnalysis features two functions to save the results to and load them from a database.</p>
<div class="sourceCode"><pre class="r"><span class="co"># Save to and load from database</span>
<span class="fu"><a href="reference/saveToDatabase.html">saveToDatabase</a></span>(<span class="no">results</span>, <span class="no">conn</span>, <span class="kw">resultsCdm</span> <span class="kw">=</span> <span class="st">"legend_nma"</span>, <span class="kw">overwriteExistingTables</span> <span class="kw">=</span> <span class="fl">TRUE</span>)
<span class="no">resultsFromDb</span> <span class="kw">&lt;-</span> <span class="fu"><a href="reference/loadFromDb.html">loadFromDb</a></span>(<span class="no">conn</span>, <span class="kw">resultsCdm</span> <span class="kw">=</span> <span class="st">"legend_nma"</span>)

<span class="co"># Save to and load from file</span>
<span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">saveRDS</a></span>(<span class="no">results</span>, <span class="kw">file</span> <span class="kw">=</span> <span class="st">"results_without_nodesplitting.Rdata"</span>)
<span class="no">resultsFromFile</span> <span class="kw">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/readRDS.html">readRDS</a></span>(<span class="st">"results_without_nodesplitting.Rdata"</span>)</pre></div>
</div>
</div>
<div id="support" class="section level2">
<h2 class="hasAnchor">
<a href="#support" class="anchor"></a>Support</h2>
<ul>
<li>Developer questions/comments/feedback: <a href="http://forums.ohdsi.org/c/developers">OHDSI Forum</a>
</li>
<li>We use the <a href="https://www.github.com/OHDSI/NetworkMetaAnalysis/issues">GitHub issue tracker</a> for all bugs/issues/enhancements</li>
</ul>
</div>
<div id="contributing" class="section level2">
<h2 class="hasAnchor">
<a href="#contributing" class="anchor"></a>Contributing</h2>
<p>If you would like to contribute to this package, please head over to <a href="https://ohdsi.github.io/Hades/contribute.html">the HADES page</a> to see how.</p>
</div>
<div id="license" class="section level2">
<h2 class="hasAnchor">
<a href="#license" class="anchor"></a>License</h2>
<p>NetworkMetaAnalysis is licensed under Apache License 2.0.</p>
</div>
<div id="development-and-status" class="section level2">
<h2 class="hasAnchor">
<a href="#development-and-status" class="anchor"></a>Development and status</h2>
<p>NetworkMetaAnalysis is developed in RStudio. NetworkMetaAnalysis is maturing under active development.</p>
</div>
<div id="acknowledgements" class="section level2">
<h2 class="hasAnchor">
<a href="#acknowledgements" class="anchor"></a>Acknowledgements</h2>
<ul>
<li>The package maintainer received funding from Innovation Fund Denmark (5153-00002B) and the Novo Nordisk Foundation (NNF14CC0001).</li>
</ul>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>Benjamin Skov Kaas-Hansen <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0003-1023-0371" target="orcid.widget" aria-label="ORCID"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a> <br><small>(github.com/benskov)</small>
</li>
</ul>
</div>

  <div class="dev-status">
<h2>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://travis-ci.org/OHDSI/NetworkMetaAnalysis"><img src="https://travis-ci.org/OHDSI/NetworkMetaAnalysis.svg?branch=master" alt="Build Status"></a></li>
</ul>
</div>
</div>
</div>


      <footer><div class="copyright">
  <p>Developed by Benjamin Skov Kaas-Hansen.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
